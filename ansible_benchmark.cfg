[defaults]
# Enable our custom callback plugin
callback_plugins = ~/.ansible/plugins/callback
callback_whitelist = benchmark_monitor

# Enable detailed logging
stdout_callback = debug
bin_ansible_callbacks = True

# Performance tuning for benchmarking
forks = 50
host_key_checking = False
timeout = 30
gathering = smart
fact_caching = memory

# SSH optimizations
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ControlPath=~/.ssh/ansible-%r@%h:%p
pipelining = True

# Logging
log_path = /var/log/ansible_benchmark.log
verbosity = 0

[ssh_connection]
# SSH backend selection (can be overridden per playbook)
# ansible_connection = ssh  # or paramiko
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ControlPath=~/.ssh/ansible-%r@%h:%p
pipelining = True
timeout = 30

[paramiko_connection]
# Paramiko-specific settings
record_host_keys = False
host_key_auto_add = True

[persistent_connection]
connect_timeout = 30
connect_retries = 3
connect_interval = 1
command_timeout = 30
